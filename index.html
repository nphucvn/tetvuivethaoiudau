<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ƒê√™m Giao Th·ª´a</title>

<style>
html,body{margin:0;overflow:hidden;background:black;font-family:Arial}
#overlay{
  position:fixed;inset:0;
  display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,.8);
  color:white;font-size:20px;z-index:10
}
#title{
  position:absolute;top:5%;width:100%;
  text-align:center;font-size:26px;
  color:#ffb6c1;text-shadow:0 0 15px #ff69b4
}
#message{
  position:absolute;bottom:10%;width:100%;
  text-align:center;color:white;
  font-size:18px;line-height:1.6;
  text-shadow:0 0 10px rgba(255,255,255,.6)
}
</style>
</head>

<body>
<div id="overlay">üëÜ Ch·∫°m ƒë·ªÉ b·∫Øt ƒë·∫ßu üé∂</div>

<div id="title">‚ú® ƒê√™m Giao Th·ª´a ‚ú®</div>
<div id="message">
üíñ Ch√∫c Th·∫£o NƒÉm M·ªõi Vui V·∫ª Nh√© üíñ<br>
Mong r·∫±ng m·ªçi ni·ªÅm vui, may m·∫Øn v√† d·ªãu d√†ng nh·∫•t<br>
s·∫Ω lu√¥n ·ªü b√™n Th·∫£o trong nƒÉm m·ªõi üå∏<br>
Ch√∫c Th·∫£o lu√¥n m·ªâm c∆∞·ªùi v√† h·∫°nh ph√∫c ‚ú®
</div>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_3b7f6c6b7c.mp3">
</audio>

<audio id="boom">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_5c1c8c5c89.mp3">
</audio>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
const scene=new THREE.Scene();
scene.background=new THREE.Color(0x000014);

const camera=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000);
camera.position.set(0,4,12);

const renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.body.appendChild(renderer.domElement);

// Light
scene.add(new THREE.AmbientLight(0xffffff,.8));
const moon=new THREE.PointLight(0xffffff,1.5);
moon.position.set(0,20,10);scene.add(moon);

// Ground
const ground=new THREE.Mesh(
  new THREE.PlaneGeometry(60,60),
  new THREE.MeshStandardMaterial({color:0x050505})
);
ground.rotation.x=-Math.PI/2;scene.add(ground);

// ===== GUMBALL =====
function createGumball(x){
  const g=new THREE.Group();
  const body=new THREE.Mesh(
    new THREE.SphereGeometry(0.9,32,32),
    new THREE.MeshStandardMaterial({color:0x4fc3ff})
  );
  body.position.y=1.2;g.add(body);
  const eyeMat=new THREE.MeshStandardMaterial({color:0xffffff});
  const eye1=new THREE.Mesh(new THREE.SphereGeometry(0.2),eyeMat);
  eye1.position.set(-0.2,1.4,0.7);
  const eye2=eye1.clone();eye2.position.x=0.2;
  g.add(eye1,eye2);
  g.position.x=x;scene.add(g);
}

// ===== PENNY =====
function createPenny(x){
  const g=new THREE.Group();
  const body=new THREE.Mesh(
    new THREE.SphereGeometry(0.85,32,32),
    new THREE.MeshStandardMaterial({
      color:0xff7ac8,
      transparent:true,opacity:.9
    })
  );
  body.position.y=1.2;g.add(body);
  g.position.x=x;scene.add(g);
}

createGumball(-1.2);
createPenny(1.2);

// ===== FIREWORKS =====
const rockets=[], explosions=[];
function launch(){
  rockets.push({
    pos:new THREE.Vector3((Math.random()-.5)*8,0,-5),
    vel:new THREE.Vector3(0,Math.random()*0.3+.45,0),
    exploded:false
  });
}
function explode(pos){
  const group=new THREE.Group();
  const parts=[];
  const color=new THREE.Color(Math.random(),Math.random(),Math.random());
  for(let i=0;i<200;i++){
    const p=new THREE.Mesh(
      new THREE.SphereGeometry(0.035),
      new THREE.MeshBasicMaterial({color})
    );
    const a=Math.random()*Math.PI*2;
    const b=Math.random()*Math.PI;
    const s=Math.random()*0.45+0.15;
    p.velocity=new THREE.Vector3(
      Math.cos(a)*Math.sin(b)*s,
      Math.cos(b)*s,
      Math.sin(a)*Math.sin(b)*s
    );
    p.position.copy(pos);
    group.add(p);parts.push(p);
  }
  document.getElementById("boom").cloneNode(true).play();
  scene.add(group);
  explosions.push({group,parts,life:140});
}

function animate(){
  requestAnimationFrame(animate);
  if(Math.random()<0.04) launch();

  rockets.forEach((r,i)=>{
    r.pos.add(r.vel);
    r.vel.y-=0.004;
    if(!r.exploded && r.vel.y<=0){
      explode(r.pos.clone());
      rockets.splice(i,1);
    }
  });

  explosions.forEach((e,i)=>{
    e.parts.forEach(p=>{
      p.position.add(p.velocity);
      p.velocity.y-=0.006;
    });
    e.life--;
    if(e.life<=0){
      scene.remove(e.group);
      explosions.splice(i,1);
    }
  });
  renderer.render(scene,camera);
}
animate();

onresize=()=>{
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
};

// Start audio on user tap
document.getElementById("overlay").onclick=()=>{
  document.getElementById("music").play();
  document.getElementById("overlay").style.display="none";
};
</script>
</body>
</html>
